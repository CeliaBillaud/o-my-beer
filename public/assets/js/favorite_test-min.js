export const favoriteTest={serverUrl:"https://dymarion-server.eddi.cloud",init:function(){const t=document.querySelectorAll(".favorite-icon"),e=document.querySelectorAll(".test-icon");t.forEach((function(t){t.addEventListener("click",favoriteTest.handleFavoriteClick)})),e.forEach((function(t){t.addEventListener("click",favoriteTest.handleTestClick)}))},handleFavoriteClick:function(t){const e=t.currentTarget,s=e.closest(".beer-element");e.classList.contains("bi-heart-fill")?favoriteTest.deleteFromFavorite(s,e):e.classList.contains("bi-heart")&&favoriteTest.addToFavorite(s,e)},handleTestClick:function(t){const e=t.currentTarget,s=e.closest(".beer-element");e.classList.contains("bi-bookmark-check-fill")?favoriteTest.deleteFromTest(s,e):e.classList.contains("bi-bookmark-check")&&favoriteTest.addToTest(s,e)},addToFavorite:async function(t,e){try{const s=t.dataset.id,a=await fetch(`${favoriteTest.serverUrl}/api/favoris/${s}/ajouter`);a.ok?(e.classList.toggle("bi-heart"),e.classList.toggle("bi-heart-fill")):404===a.status?alert("Cette bière n'existe pas"):alert("Erreur : ".response.status)}catch(t){alert(t)}},deleteFromFavorite:async function(t,e){try{const s=t.dataset.id,a=await fetch(`${favoriteTest.serverUrl}/api/favoris/${s}/supprimer`);a.ok?(e.classList.toggle("bi-heart"),e.classList.toggle("bi-heart-fill"),t.classList.contains("beer-is-favorite")&&t.remove()):404===a.status?alert("Cette bière n'existe pas"):alert("Erreur : ".response.status)}catch(t){alert(t)}},addToTest:async function(t,e){try{const s=t.dataset.id,a=await fetch(`${favoriteTest.serverUrl}/api/test/${s}/ajouter`);a.ok?(e.classList.toggle("bi-bookmark-check"),e.classList.toggle("bi-bookmark-check-fill")):404===a.status?alert("Cette bière n'existe pas"):alert("Erreur : ".response.status)}catch(t){alert(t)}},deleteFromTest:async function(t,e){try{const s=t.dataset.id,a=await fetch(`${favoriteTest.serverUrl}/api/test/${s}/supprimer`);a.ok?(e.classList.toggle("bi-bookmark-check"),e.classList.toggle("bi-bookmark-check-fill"),t.classList.contains("beer-to-test")&&t.remove()):404===a.status?alert("Cette bière n'existe pas"):alert("Erreur : ".response.status)}catch(t){alert(t)}}};